# vovo (Record to Text)

一款基于火山引擎 API 的智能语音转文字 macOS 桌面应用程序。

## 功能特性

### 核心功能
- 🎙️ **一键录音**: 通过 Command + Shift + Space 全局快捷键快速开始录音
- 🔄 **实时转换**: 基于火山引擎流式语音识别 API 实时转换语音为文字
- ✨ **自动插入**: 智能识别当前光标位置并自动插入转换结果
- ⚙️ **状态栏集成**: 便捷的状态栏菜单控制和状态显示

### 权限管理
- 🎤 自动检测麦克风权限
- 🔐 智能引导辅助功能权限授权
- 📝 录制权限管理

### 配置管理
- 🔧 完整的火山引擎 API 配置界面
- 💾 JSON 格式配置文件支持
- 🌐 多语言识别支持（中文、英文、日文、韩文）

## 系统要求

- macOS 11.0 或更高版本
- 麦克风设备
- 网络连接（用于 API 调用）

## 安装说明

### 开发环境
1. 确保安装了 Xcode 15.0 或更高版本
2. 克隆项目到本地
3. 打开 `vovo.xcodeproj`
4. 配置开发团队和签名
5. 编译并运行

### 权限配置
应用程序需要以下权限：
- **麦克风权限**: 用于录制语音
- **辅助功能权限**: 用于自动插入文字到其他应用
- **网络权限**: 用于连接火山引擎 API

## 配置说明

### 火山引擎 API 配置
1. 在火山引擎控制台获取以下信息：
   - App Key
   - Access Key
   - Resource ID
   - Connect ID
2. 启动应用后，通过状态栏菜单选择「配置...」
3. 填入 API 配置信息并保存
4. 点击「测试连接」验证配置是否正确

### 音频设置
- **语言**: 支持中文、英文、日文、韩文
- **音频格式**: PCM、WAV、MP3、AAC
- **采样率**: 16000Hz、22050Hz、44100Hz、48000Hz
- **VAD**: 语音活动检测开关
- **静音检测**: 可配置最大静音时长

## 使用方法

### 基本操作
1. **开始录音**: 按下 Command + Shift + Space 或点击状态栏菜单中的「开始录音」
2. **说话**: 对着麦克风清晰地说话
3. **查看结果**: 转换的文字会自动插入到当前光标位置
4. **停止录音**: 再次按下快捷键或点击「停止录音」

### 高级功能
- **文本处理**: 支持自动去除多余空白、首字母大写、添加标点符号
- **历史记录**: 查看最近的转换历史
- **撤销功能**: 撤销最后插入的文字

## 项目结构

```
vovo/
├── AppDelegate.swift                    # 应用程序主入口
├── PermissionManager.swift              # 权限管理
├── AudioRecordingManager.swift          # 音频录制管理
├── WebSocketManager.swift               # WebSocket 通信管理
├── ConfigManager.swift                  # 配置管理
├── HotKeyManager.swift                  # 全局快捷键管理
├── TextInsertionManager.swift           # 文本插入管理
├── StatusBarManager.swift               # 状态栏管理
├── ConfigurationWindowController.swift  # 配置窗口控制器
├── Assets.xcassets/                     # 应用资源
├── Base.lproj/                          # 界面文件
├── Info.plist                           # 应用信息配置
├── vovo.entitlements                    # 权限配置
└── vovo.xcodeproj/                      # Xcode 项目文件
```

## 开发说明

### 架构设计
- **MVVM 架构**: 清晰的数据绑定和业务逻辑分离
- **模块化设计**: 每个功能模块独立管理
- **委托模式**: 模块间通过委托进行通信
- **单例模式**: 配置管理等全局服务使用单例

### 关键技术
- **AVFoundation**: 音频录制和处理
- **WebSocket**: 实时 API 通信
- **Carbon/Cocoa**: 全局快捷键监听
- **Accessibility API**: 文本自动插入
- **NSStatusBar**: 状态栏集成

## 故障排除

### 常见问题

**Q: 无法录音**
A: 检查麦克风权限是否已授权，在系统偏好设置 > 安全性与隐私 > 隐私 > 麦克风中确认 vovo 已被勾选。

**Q: 文字无法自动插入**
A: 检查辅助功能权限，在系统偏好设置 > 安全性与隐私 > 隐私 > 辅助功能中确认 vovo 已被勾选。

**Q: API 连接失败**
A: 检查网络连接和 API 配置信息是否正确，确认火山引擎账户余额充足。

**Q: 快捷键不响应**
A: 确认辅助功能权限已授权，检查是否有其他应用占用了相同的快捷键。

## 许可证

Copyright © 2024 vovo. All rights reserved.

## 更新日志

### v1.0.0 (2024)
- 初始版本发布
- 实现基础语音转文字功能
- 支持火山引擎 API 集成
- 完整的权限管理系统
- 状态栏集成和配置界面

## 贡献

欢迎提交 Issue 和 Pull Request 来改进这个项目。

## 联系方式

如有问题或建议，请通过以下方式联系：
- 项目 Issues
- 邮箱: [待补充]

---

**注意**: 使用本应用需要有效的火山引擎账户和 API 配额。请确保遵守火山引擎的使用条款和隐私政策。